function add_to_cart(o,s,e=0){isProductDetails=0,(cartProductRowId=0)==o&&(o=document.getElementById("productId").value,s=document.getElementById("prescription_required").value,e=$(".product-qty").val(),cartProductRowId=$("#cart_row_id").val(),isProductDetails=1),$.ajax({url:add_to_cart_url,type:"POST",data:{productId:o,quantity:e,isProductDetails:isProductDetails,cartProductRowId:cartProductRowId},dataType:"json",success:function(e){var t,a;console.log(e),e.isCartItem?(e.prescription_uploaded||1==s&&$("#uploadPrescription").modal("show"),$(".total-cart-items").html(e.totalItems),$("#sub_total").html(e.subTotal),$("#deliveryFee").html(e.deliveryFee),$("#vat").html(e.vat),$("#total").html(e.total),t="#add-to-cart-icon"+o,a="#qty_"+e.rowId,$(a).val(e.qty),$(t).attr("src",e.cart_selected)):$(".total-wishlist-items").html(e.totalItems),$(".tooltip-content p").text("Item added Successfully!"),$(".tooltip-content h3").text("My Cart"),$(".success-tooltip").show(),setTimeout(function(){$(".success-tooltip").hide()},3e3),$(".modal-overlay").removeClass("active"),$(".product-detail-modal").removeClass("active"),$(".ico-bucket").notify("Added to cart","success",{position:"top left"}),e.productAdded&&e.isCartItem&&$(".cart-items").append("<div class='pc-item' id= '"+e.rowId+"'><div class='pc-thumb'><img src='"+e.cartItems.image+"' alt='Product Image'></div><div class='cart-detail'><div>"+e.cartItems.name+"</div><div> AED "+e.cartItems.price+"</div><a href='#' class='remove-prod' id = '"+e.rowId+"'>Remove</a></div> <div class='quantity-counter'> <input type='number' name='apparel' id = 'qty_"+e.rowId+"' class='number-field' disabled value='"+e.cartItems.qty+"' min='1' max='100'><div class='inc-button inc-cart-qty' id = '"+e.rowId+"'><span class='ico'>+</span></div><div class='dec-button dec-cart-qty' id = '"+e.rowId+"'><span class='ico'>-</span></div></div></div>")},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}function redirect_to_prescription(){$("#uploadPrescription").modal("hide"),window.location=presciption_required_url}function get_file_extension(e){e=/^.+\.([^.]+)$/.exec(e);return null==e?"":e[1]}function lettersOnly(e){e.value=e.value.replace(/[^a-z^A-Z^ ]/gi,"")}function emailOnly(e){e.value=e.value.replace(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/gi,"")}function search(t){13==event.keyCode&&(t=t.value,$.ajax({url:search_by_product_url,method:"POST",data:{name:t},dataType:"json",beforeSend:function(){},success:function(e){e.success?window.location=search_products_page_url+"&id=3146&search="+t:($(".error-modal-message").text("Something happened wrong while searching the products"),$("#errorModal").modal("show"))},error:function(e){$(".error-modal-message").text(JSON.stringify(e)),$("#errorModal").modal("show")}}))}function clickEvent(e,t){e.value.length&&document.getElementById(t).focus()}$(".number-field").attr("disabled","disabled"),$(document).ready(function(){$(".flexslider").flexslider({animation:"slide",animationLoop:!0,slideshow:!0,slideshowSpeed:6e3,animationSpeed:0,directionNav:!0,controlNav:!1}),$(".shop-symptoms .slick-next").click(function(){$(".symptom-slider").slick("slickNext")}),$(".shop-symptoms .slick-prev").click(function(){$(".symptom-slider").slick("slickPrev")}),$(".shop-categories .slick-prev").click(function(){$(".categories-slider").slick("slickPrev")}),$(".shop-categories .slick-next").click(function(){$(".categories-slider").slick("slickNext")}),$("#phone").intlTelInput(),$("#mobile").intlTelInput(),$("#s_phone").intlTelInput(),$(".symptom-slider,.categories-slider").slick({appendArrows:!1,slidesToShow:6,autoplay:!1,autoplaySpeed:3e3,responsive:[{breakpoint:1450,settings:{slidesToShow:4,slidesToScroll:2}},{breakpoint:640,settings:{arrows:!1,dots:!0,outerEdgeLimit:!0,variableWidth:!0,infinite:!0,slidesToShow:6}}]}),document.getElementById("year").innerHTML=(new Date).getFullYear(),(new WOW).init(),$(".scroll-back").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1}),$(".ico-heart-empty").click(function(e){$(this).toggleClass("ico-heart-filled");var t=$(this).attr("id");$.ajax({url:add_to_wishlist_url,type:"POST",data:{productId:t,quantity:"-1"},dataType:"json",success:function(e){e.loggedIn?($(".total-wishlist-items").html(e.total),$(".ico-heart").notify("Added to wishlist","info",{position:"top left"})):($("#errorMessageModal").modal("show"),$("#modal_error_message").text("Please log in to save wishlists"))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(".add-to-cart").click(function(e){$(this).toggleClass("active"),e.preventDefault()}),$(".ico-bucket,.back-link").click(function(e){$.ajax({url:cart_page_validate_url,method:"GET",dataType:"json",beforeSend:function(){},success:function(e){e.validated&&(window.location=cart_page_url)},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}}),e.preventDefault()}),$(".ico-bucket").mouseover(function(e){window.matchMedia("screen and (max-width: 480px)").matches||$(".products-cart").toggleClass("active"),e.preventDefault()}),$(".ico-bucket").mouseout(function(e){window.matchMedia("screen and (max-width: 480px)").matches||$(".products-cart").removeClass("active"),e.preventDefault()}),$(".ico-search").click(function(){$(".search-bar").addClass("active")}),$(".navbar-toggler").click(function(){$(".mobile-menu").addClass("active"),$(".body-overlay").addClass("active")}),$(".body-overlay").click(function(e){$(".mobile-menu").removeClass("active"),$(this).removeClass("active"),e.preventDefault()}),$(".ico-close").click(function(){$(this).parent().removeClass("active"),$(this).parent().parent().removeClass("active"),$(".modal-overlay").removeClass("active"),$(".ls-popup").removeClass("zoomIn")}),$(".ico-close-big").click(function(){$(this).parent().parent().removeClass("active"),$(".modal-overlay").removeClass("active")}),$(".ls-popup .logo .ico-close-big").click(function(){$(this).parent().parent().removeClass("active"),$(".ls-overlay").removeClass("active"),$(".ls-popup").removeClass("zoomIn")}),$(".mobile-menu ul li.active a").click(function(){$(".mobile-menu ul li ul").is(":visible")?($(this).next().slideUp(300),$(".ico-arrow").removeClass("ico-arrow-down")):($(".mobile-menu ul li ul").slideDown(300),$(".ico-arrow").addClass("ico-arrow-down"))}),$(".toggle-password").click(function(){var e=$($(this).attr("toggle"));"password"==e.attr("type")?e.attr("type","text"):e.attr("type","password")}),$(function(){$("#loginForm").validate({rules:{UserName:{required:!0,email:!0},Password:"required"},messages:{UserName:{required:"Please enter email"},Password:"Please enter password"},submitHandler:function(e){}})}),$(document).ready(function(){$("#loginForm").on("submit",function(e){e.preventDefault();var t=document.getElementById("user").value,e=document.getElementById("password").value;t&&e&&($("#loginButton").text("Processing..."),$.ajax({url:login_url,method:"POST",data:$(this).serialize(),dataType:"json",beforeSend:function(){},success:function(e){var t,a;1==e.success?($(".loginview").removeClass("active"),$(".signupview").removeClass("active"),$(".two-factor-authentication-view").addClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".auth_resend_msg").show(),$(".resend_auth").hide(),t=60,a=setInterval(function(){--t<=0?(clearInterval(a),$(".auth_resend_msg").hide(),$(".resend_auth").show()):$(".auth_resend_msg").text("Resend code after "+t+" seconds")},1e3)):($("#loginButton").text("Log In"),$("#login_password_popup").show())},error:function(e){$("#loginButton").text("Log In"),$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}}))})}),$(document).on("click",".resend-auth",function(){$.ajax({url:resend_auth_login_url,type:"POST",dataType:"json",success:function(e){var t,a;1==e.success&&(document.getElementById("istpopupinput").value="",document.getElementById("secpopupinput").value="",document.getElementById("thirdpopupinput").value="",document.getElementById("fourthpopupinput").value="",$("#ist").val(""),$("#sec").val(""),$("#third").val(""),$("#fourth").val(""),$(".auth_resend_msg").show(),$(".resend_auth").hide(),t=60,a=setInterval(function(){--t<=0?(clearInterval(a),$(".auth_resend_msg").hide(),$(".resend_auth").show()):$(".auth_resend_msg").text("Resend code after "+t+" seconds")},1e3))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".verifytwoFactorCodeButton",function(){var e=document.getElementById("istpopupinput").value+document.getElementById("secpopupinput").value+document.getElementById("thirdpopupinput").value+document.getElementById("fourthpopupinput").value;""==e?$(".authverificationcodeerror").show():($(".authverificationcodeerror").hide(),$(".verifytwoFactorCodeButton").text("Verifying..."),$.ajax({url:check_auth_login_url,data:{code:e},type:"POST",dataType:"json",success:function(e){$(".verifytwoFactorCodeButton").text("Verify"),1==e.success?0!=e.redirect_url?window.location=e.redirect_url:window.location=home_url:($("#loginButton").text("Log In"),$("#login_password_popup").show(),$(".authverificationcodeerror").show(),document.getElementById("istpopupinput").value="",document.getElementById("secpopupinput").value="",document.getElementById("thirdpopupinput").value="",document.getElementById("fourthpopupinput").value="")},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}}))}),$("#loadMore").click(function(e){$.ajax({url:loadmore_products_url,data:{offset:$("#offset").val(),limit:$("#limit").val(),category:$("#loadMore").val()},type:"POST",dataType:"json",success:function(e){$("#offset").val(e.offset),$("#limit").val(e.limit),$(".row").html(""),e.more_products||$(".load-more").hide(),$(".row").append(e.content)},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(function(){$("#signupForm").validate({rules:{fullname:"required",email:{required:!0,email:!0},phone:"required",password:{required:!0,minlength:6}},messages:{firstname:{required:"Please enter firstname e.g John"},lastname:{required:"Please enter lastname e.g Doe"},password:{required:"Please provide a password",minlength:"Your password must be at least 6 characters long"},phone:"Please enter a valid phone number",email:"Please enter a valid email address"},submitHandler:function(e){}})}),$(document).on("click","#signupButton",function(){var e,t,a,o,s,i,r=grecaptcha.getResponse();0==r.length?document.getElementById("popupcaptcha").innerHTML="Captcha required":(document.getElementById("popupcaptcha").innerHTML="",a=(e=document.getElementById("firstname").value)+" "+(t=document.getElementById("lastname").value),o=document.getElementById("email").value,s=document.getElementById("phone").value,i=document.getElementById("password-sign").value,a&&o&&s&&i&&($("#signupButton").text("Processing..."),$.ajax({url:signup_url,type:"POST",data:{firstname:e,lastname:t,fullname:a,email:o,phone:s,password:i,"g-recaptcha-response":r},dataType:"json",success:function(e){$("#signupButton").text("Sign Up"),1==e.success?window.location=home_url:JSON.parse(e.error).forEach(e=>{"contact number already exits"==e?$("#phone_popup").show():"email address already exits"==e?$("#email_popup").show():"customer already exits"==e?($("#email_popup").show(),$("#phone_popup").show()):"password is required"==e?$("#password_popup").show():($("#email_popup").hide(),$("#phone_popup").hide(),$("#password_popup").hide()),"reCAPTCHA Verification failed!"==e&&(grecaptcha.reset(),document.getElementById("captcha").innerHTML="Verification failed")})},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})))}),$(document).on("click",".login",function(){$(".mobile-menu").removeClass("active"),$(".body-overlay").removeClass("active")}),$(document).on("click","#passwordToggle",function(){"Show"==e.innerHTML?(e.innerHTML="Hide",document.getElementById("password-sign").type="text"):(e.innerHTML="Show",document.getElementById("password-sign").type="password")}),$(document).on("click",".add-to-cart",function(){}),$(document).on("click","#sendButton",function(){var e=document.getElementById("forgotpasswordemail").value;e?($(".label-error-email").hide(),$("#sendButton").text("Processing..."),$.ajax({url:send_otp_url,type:"POST",data:{email:e},dataType:"json",success:function(e){$("#sendButton").text("Send"),1==e.success?($(".tooltip-content p").text("OTP sent Successfully!"),$(".tooltip-content h3").text("Verification Code"),$(".success-tooltip").show(),setTimeout(function(){$(".success-tooltip").hide()},3e3),$(".loginview").removeClass("active"),$(".signupview").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".otpview").addClass("active"),$(".newpasswordview").removeClass("active"),$(".checkoutforgotpasswordview").hide(),$(".checkoutotpview").show(),$(".checkoutnewpasswordview").hide()):($("#errorMessageModal").modal("show"),$("#modal_error_message").text(e.error))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})):$(".label-error-email").show()}),$(document).on("click",".resend-span",function(){var e=document.getElementById("f_email").value;e&&$.ajax({url:send_otp_url,type:"POST",data:{email:e},dataType:"json",success:function(e){$(".tooltip-content p").text("OTP sent Successfully!"),$(".tooltip-content h3").text("Verification Code"),$(".success-tooltip").show(),setTimeout(function(){$(".success-tooltip").hide()},3e3)},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click","#verifyButton",function(){var e=document.getElementById("verificationcode").value;e?($(".label-error-code").hide(),$("#verifyButton").text("Verifying..."),$.ajax({url:verify_otp_url,type:"POST",data:{code:e},dataType:"json",success:function(e){$("#verifyButton").text("Verify"),1==e.success?($(".loginview").removeClass("active"),$(".signupview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").addClass("active")):($("#errorMessageModal").modal("show"),$("#modal_error_message").text(e.error))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})):$(".label-error-code").show()}),$(document).on("click","#resetPasswordButton",function(){var e=document.getElementById("new_password").value,t=document.getElementById("confirm_password").value;e&&t&&$.ajax({url:reset_password_url,type:"POST",data:{password:e,confirm:t},dataType:"json",success:function(e){1==e.success?(alert("Password Reset Successfully"),$(".loginview").addClass("active"),$(".signupview").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active")):($("#errorMessageModal").modal("show"),$("#modal_error_message").text(e.error))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click","#proceed-cart",function(){$.ajax({url:cart_page_validate_url,type:"GET",dataType:"json",success:function(e){e.validated?window.location=checkout_page_url:($(".error-tooltip").show(),$(".tooltip-content h3").text(e.error),$(".tooltip-content p").text(""),setTimeout(function(){$(".error-tooltip").hide()},3e3))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".btn-cart",function(){}),$(document).on("click",".remove-prod, .ico-close",function(){var i=$(this).attr("id");$.ajax({url:remove_from_cart_url,type:"POST",data:{productId:i},dataType:"json",success:function(e){$("#item_"+i).remove(),0==e.cartItems.length?$(".total-items").html("| 0 Item"):$(".total-items").html("| "+e.cartItems.length+" Items"),0==e.cartItems.length&&(window.location=home_url),$(".total-cart-items").html(e.cartItems.length),$(".cart-items").html(""),$("#sub_total").html(e.subTotal),$("#deliveryFee").html(e.deliveryFee),$("#vat").html(e.vat),$("#total").html(e.total),$("#c_total").html(e.total),$("#c_sub_total").html(e.subTotal),$("#c_deliveryFee").html(e.deliveryFee),$("#c_deliveryFee").html(e.deliveryFee),$("#deliveryFee").text(e.deliveryFee),$("#sub_total").text(e.subTotal),$(".products-table").empty(),$(".product-balance").empty();var t="<table class='checkout-table'><thead><tr><th>Product</th><th>Quantity</th><th>Unit Price</th><th>Total</th></tr></thead><div class='cart-row'><tbody>",a="<div class='pc-item-total'><ul><li>Subtotal<span id = 'sub_total'>"+e.subTotal+"</span></li><li>Delivery<span id = 'deliveryFee'>"+e.deliveryFee+"</span></li></ul><div class='total-price'>Total<div class='pc-currency'>AED <span id = 'total'>"+e.total+"</span></div></div></div><a href='#' class='btn-blue btn-proceed'>Proceed </a>";$(".product-balance").html(a);for(var o="",s=0;s<e.cartItems.length;s++)o=1==e.cartItems[s].prescription_required?"<span  class='prescription_tag' id = "+e.cartItems[s].sku+"><img  src='"+e.prescription_tag+"' class = 'img_tag'  id = p_tag"+e.cartItems[s].sku+"  /></span>":"",t=t+"<tr><td class='pt-title'><a href='javascript:void(0)' class='ico ico-close' id = '"+e.cartItems[s].rowid+"'></a><div class='pc-thumb'><img src='"+e.cartItems[s].image+"' alt='Product Image'></div><div class='pc-detail'><div>"+e.cartItems[s].name+"</div><div>"+e.cartItems[s].unit+"</div></div>"+o+"</td><td class='pt-count'><div class='pc-item'><div class='quantity-counter' ><input type='number' name='apparel' disabled id = 'qty_"+e.cartItems[s].rowid+"' class='number-field' value='"+e.cartItems[s].qty+"'min='1' max='100'><div class='inc-button  inc-cart-qty' id = '"+e.cartItems[s].rowid+"' ><span class='ico'>+</span></div><div class='dec-button  dec-cart-qty' id = '"+e.cartItems[s].rowid+"' ><span class='ico'>-</span></div></div><a href='#' class='remove-prod' id = '"+e.cartItems[s].rowid+"'>Remove</a></div></td><td class='unit-price'>"+e.cartItems[s].price+"</td><td class='final-price'>"+(Math.round(e.cartItems[s].price*e.cartItems[s].qty*100)/100).toFixed(2),$(".cart-items").append("<div class='pc-item' id= '"+e.cartItems[s].rowid+"'><div class='pc-thumb'><img src='"+e.cartItems[s].image+"' alt='Product Image'></div><div class='cart-detail'><div>"+e.cartItems[s].name+"</div><div>"+e.cartItems[s].price+"</div><a href='#' class='remove-prod' id = '"+e.cartItems[s].rowid+"'>Remove</a></div> <div class='quantity-counter'> <input type='number' name='apparel' disabled id = 'qty_"+e.cartItems[s].rowid+"' class='number-field' value='"+e.cartItems[s].qty+"' min='1' max='100'><div class='inc-button inc-cart-qty' id = '"+e.cartItems[s].rowid+"'><span class='ico'>+</span></div><div class='dec-button dec-cart-qty' id = '"+e.cartItems[s].rowid+"'><span class='ico'>-</span></div></div></div>");t+="</tbody> </div> </table>",$(".products-table").html(t)},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".inc-cart-qty",function(){var a=$(this).attr("id"),o="qty_"+a,s="mobile_qty_"+a,i=parseInt(document.getElementById(o).value),i=parseInt(i)+1;$.ajax({url:increase_qty_url,type:"POST",data:{productId:a,qty:i},dataType:"json",success:function(e){$(".cart-items").html(""),$("#sub_total").html(e.subTotal),$("#deliveryFee").html(e.deliveryFee),$("#vat").html(e.vat),$("#total").html(e.total),$("#c_total").html(e.total),$("#c_sub_total").html(e.subTotal),$("#c_deliveryFee").html(e.deliveryFee),$("#c_deliveryFee").html(e.deliveryFee),$("#"+o).val(i),$("#deliveryFee").text(e.deliveryFee),$("#sub_total").text(e.subTotal),$("#row_total_"+a).text(e.totalItemPrice),$("#"+s).html(i);for(var t=0;t<e.cartItems.length;t++)prescriptionRequiredCode=1==e.cartItems[t].prescription_required?"<span  class='prescription_tag' id = "+e.cartItems[t].sku+"><img  src='"+e.prescription_tag+"' class = 'img_tag'  id = p_tag"+e.cartItems[t].sku+"  /></span>":"",$(".cart-items").append("<div class='pc-item' id= '"+e.cartItems[t].rowid+"'><div class='pc-thumb'><img src='"+e.cartItems[t].image+"' alt='Product Image'></div><div class='cart-detail'><div>"+e.cartItems[t].name+"</div><div>"+e.cartItems[t].price+"</div><a href='#' class='remove-prod' id = '"+e.cartItems[t].rowid+"'>Remove</a></div> <div class='quantity-counter'> <input type='number' name='apparel' id = 'qty_"+e.cartItems[t].rowid+"' class='number-field' value='"+e.cartItems[t].qty+"' min='1' max='100'><div class='inc-button inc-cart-qty' id = '"+e.cartItems[t].rowid+"'><span class='ico'>+</span></div><div class='dec-button dec-cart-qty' id = '"+e.cartItems[t].rowid+"'><span class='ico'>-</span></div></div></div>")},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".dec-cart-qty",function(){var o=$(this).attr("id"),s="qty_"+o,i="mobile_qty_"+o,r=parseInt(document.getElementById(s).value),r=parseInt(r)-1;$.ajax({url:decrease_qty_url,type:"POST",data:{productId:o,qty:r},dataType:"json",success:function(e){$(".cart-items").html(""),$("#sub_total").html(e.subTotal),$("#deliveryFee").html(e.deliveryFee),$("#vat").html(e.vat),$("#total").html(e.total),$("#c_total").html(e.total),$("#c_sub_total").html(e.subTotal),$("#c_deliveryFee").html(e.deliveryFee),$("#c_deliveryFee").html(e.deliveryFee),$("#"+s).val(r),$("#deliveryFee").text(e.deliveryFee),$("#sub_total").text(e.subTotal),$("#"+i).html(r),0==r&&($("#item_"+o).remove(),$(".total-cart-items").html(e.totalItems),$(".total-items").html("| "+e.totalItems+" Items")),0==e.cartItems.length&&(window.location=home_url),$("#row_total_"+o).text(e.totalItemPrice),$(".products-table").empty(),$(".product-balance").empty();var t="<div class='pc-item-total'><ul><li>Subtotal<span id = 'sub_total'>"+e.subTotal+"</span></li><li>Delivery<span id = 'deliveryFee'>"+e.deliveryFee+"</span></li></ul><div class='total-price'>Total<div class='pc-currency'>AED <span id = 'total'>"+e.total+"</span></div></div></div><a href='#' class='btn-blue btn-proceed'>Proceed </a>";$(".product-balance").html(t);for(var a=0;a<e.cartItems.length;a++)prescriptionRequiredCode=1==e.cartItems[a].prescription_required?"<span  class='prescription_tag' id = "+e.cartItems[a].sku+"><img  src='"+e.prescription_tag+"' class = 'img_tag'  id = p_tag"+e.cartItems[a].sku+"  /></span>":"",$(".cart-items").append("<div class='pc-item' id= '"+e.cartItems[a].rowid+"'><div class='pc-thumb'><img src='"+e.cartItems[a].image+"' alt='Product Image'></div><div class='cart-detail'><div>"+e.cartItems[a].name+"</div><div>"+e.cartItems[a].price+"</div><a href='#' class='remove-prod' id = '"+e.cartItems[a].rowid+"'>Remove</a></div> <div class='quantity-counter'> <input type='number' name='apparel' id = 'qty_"+e.cartItems[a].rowid+"' class='number-field' value='"+e.cartItems[a].qty+"' min='1' max='100'><div class='inc-button inc-cart-qty' id = '"+e.cartItems[a].rowid+"'><span class='ico'>+</span></div><div class='dec-button dec-cart-qty' id = '"+e.cartItems[a].rowid+"'><span class='ico'>-</span></div></div></div>");$(".products-table").html("<table><thead><tr><th>Product</th><th>Quantity</th><th>Unit Price</th><th>Total</th></tr></thead><div class='cart-row'><tbody></tbody> </div> </table>")},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".product_img",function(){var e=$(this).attr("id");$.ajax({type:"POST",url:product_detail_url,data:{productId:e},dataType:"json",success:function(e){var t=e.name,a=e.unit,o=e.price,s=e.qty,i=e.special,r=e.description,c=e.image,l=(e.product_id,e.prescription_required);$("#productName").text(t),$("#prescription_required").val(l),$("#cart_row_id").val(e.rowid),$("#unit").text(a),$("#currency").text("AED"),$("#price").text(o),null==s?$(".product-qty").val("1"):($(".product-qty").val(s),$("#alert-target").html("Update")),console.log(s),0!=i?$("#special").text(i):$("#special").text(""),$("#description").text(r),$("#detailsPage .img_tag").attr("src",""),$("#detailsPage .img_tag").attr("id","p_tag"+e.sku),e.prescription_tag&&1==e.prescription_required&&($("#detailsPage .img_tag").attr("src",e.prescription_tag_src),$("#detailsPage .img_tag").attr("id","p_tag"+e.sku)),$("#productImage").attr("src",c),$(".detail-heart").attr("id",e.sku),$(".wishlist-empty-icon").attr("id",e.sku),$(".inc-cart-qty").attr("id",e.sku),document.getElementById("productId").value=e.sku,$(".modal-overlay").addClass("active"),$(".product-detail-modal").addClass("active"),$("#quantity").val("1")},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".inc-qty",function(){var e=$(".product-qty").val(),e=Number(e)+1;$("#quantity").val(e),$(".product-qty").val(e)}),$(document).on("click",".dec-qty",function(){var e=$(".product-qty").val();1!=e&&(e=Number(e)-1),$("#quantity").val(e),$(".product-qty").val(e)}),$(".login-link").click(function(){$(".loginview").addClass("active"),$(".ls-overlay").toggleClass("active"),$(".signupview").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".ls-popup").addClass("zoomIn")}),$(".close-model").click(function(){$(".loginview").removeClass("active"),$(".ls-overlay").toggleClass("active"),$(".signupview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".ls-popup").removeClass("zoomIn")}),$("#profile_menu").click(function(){$(".personal-info-view").show(),$(".change-option").show(),$(".change-password-view").hide(),$(".profile-menu-header").text("Personal Information"),$(".saved-addresses-view").hide(),$(".add-address-view").hide(),$(".update-address-view").hide(),$("#profile_menu").addClass("profile-menu-active"),$("#address_menu").removeClass("profile-menu-active"),$("#add_address").hide(),$("#add_address").hide(),$(".map-form").hide(),$(".map-search").hide(),$(".uad-form").hide()}),$("#address_menu").click(function(){$(".personal-info-view").hide(),$(".change-password-view").hide(),$(".saved-addresses-view").show(),$(".add-address-view").hide(),$(".update-address-view").hide(),$(".profile-menu-header").text("My Addresses"),$("#profile_menu").removeClass("profile-menu-active"),$("#address_menu").addClass("profile-menu-active"),$("#add_address").show(),$(".map-form").hide(),$(".map-search").hide(),$(".uad-form").hide()}),$(".signup-link").click(function(){$(this).attr("id")?window.location=profile_url:($(".signupview").addClass("active"),$(".loginview").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".ls-overlay").toggleClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".ls-popup").addClass("zoomIn"))}),$(".forgotpassword-link").click(function(){$(".loginview").removeClass("active"),$(".signupview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".forgotpasswordview").addClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active")}),$(".lv-switch").click(function(){$(".loginview").addClass("active"),$(".signupview").removeClass("active"),$(".forgotpasswordview").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active")}),$(".sv-switch").click(function(){$(".loginview").removeClass("active"),$(".signupview").addClass("active"),$(".forgotpasswordview").removeClass("active"),$(".two-factor-authentication-view").removeClass("active"),$(".otpview").removeClass("active"),$(".newpasswordview").removeClass("active")}),$(".addinfo-link").click(function(){$(".shipping-view").addClass("slide"),$(".user-info-view").addClass("slide")}),$(".change-address").click(function(){$(".map-form").hide(),$(".saved_addresses_block").show(),$(".info-form").removeClass("active"),$(".uad-form").removeClass("active"),$(".map-form").removeClass("active"),$(".po-view").removeClass("active"),$(".udel-form").removeClass("active")}),$(".add-info").click(function(){$(".map-form").hide(),$(".saved_addresses_block").hide(),$(".info-form").addClass("active"),$(".uad-form").removeClass("active"),$(".map-form").removeClass("active"),$(".po-view").removeClass("active"),$(".udel-form").removeClass("active")}),$(".edit-info").click(function(){$(".shipping-view").addClass("slide"),$(".user-info-view").addClass("slide"),$(".saved_addresses_block").hide(),$(".map-form").hide(),$(".info-form").addClass("active"),$(".uad-form").removeClass("active"),$(".po-view").removeClass("active"),$(".map-form").removeClass("active")}),$(".online").click(function(){$(".online").addClass("selected-border"),$(".cash").removeClass("selected-border"),$(window).width()<=480?($("#mobile-place-btn").show(),$("#desktop_place_order").hide()):($("#mobile-place-btn").hide(),$("#desktop_place_order").show())}),$(document).on("click",".cash",function(){$(".online").removeClass("selected-border"),$(".cash").addClass("selected-border"),$(window).width()<=480?($("#mobile-place-btn").show(),$("#desktop_place_order").hide()):($("#mobile-place-btn").hide(),$("#desktop_place_order").show())}),$(".add-delivery").click(function(){$(".udel-form").addClass("active"),$(".map-form").hide(),$(".saved_addresses_block").hide(),$(".uad-form").removeClass("active"),$(".po-view").removeClass("active"),$(".info-form").removeClass("active")}),$(".add-payment").click(function(){$(".po-view").addClass("active"),$(".udel-form").removeClass("active"),$(".info-form").removeClass("active"),$(".uad-form").removeClass("active"),$(".saved_addresses_block").hide(),$(".map-form").hide(),$(".user-info-view").addClass("slide")}),$(".back-option,.cancel-request").click(function(){$(".shipping-view").removeClass("slide"),$(".user-info-view").removeClass("slide")}),$(".mobile-back, .mobile-back-label").click(function(){$(".shipping-view").removeClass("slide"),$(".user-info-view").removeClass("slide")}),$(".card-selection a").click(function(){$(this).addClass("active").parent().siblings().children().removeClass("active")});$(".pm-slide").hide();$(".om-mobile").click(function(){return $(".om-mobile .ico-check").addClass("active"),$(".cash-delivery .ico-check").removeClass("active"),!1}),$(".cash-delivery").click(function(){$(".cash-delivery .ico-check").addClass("active")}),$(".account-menu").click(function(e){$(".user-menu").toggleClass("active"),e.preventDefault()}),$(".dt-selected").click(function(e){$(".dropdown").toggleClass("active"),e.preventDefault()}),$(".prof-nav-mob a").click(function(e){$(".prof-nav-mob").addClass("none"),$(".symptoms-header h2").text($(this).text()),e.preventDefault()}),$(".prof-view").click(function(e){$(".profile-tab").removeClass("none"),e.preventDefault()}),$(".address-view").click(function(e){$(".address-tab").removeClass("none"),e.preventDefault()}),$(".order-view").click(function(e){$(".order-tab").removeClass("none"),e.preventDefault()});var t,a=$(".pt-content").hide();$(".policy-head").click(function(){return a.slideUp(),$(this).next().slideDown(500),$(this).addClass("active"),!1}),$(".products-filter").click(function(e){$(".products-filter .dropdown").toggleClass("active"),$(window).breakpoints("inside","xs",function(){$(".products-filter .dropdown").removeClass("active"),$(".pf-modal").toggleClass("active")}),e.preventDefault()}),$(".ico-close").click(function(){$(".mobile-modal").removeClass("active")}),$(".cs-link").click(function(e){$(".mo-confirmation").toggleClass("active"),window.location.href=home_url,e.preventDefault()}),$(".prescription_tag").click(function(e){var t="p_tag"+$(this).attr("id"),a=document.getElementById(t).src.split("/"),a=a[a.length-1];document.getElementById(t).src="prescription_tag.svg"==a?"assets/images/prescription_text.svg":"assets/images/prescription_tag.svg",e.preventDefault()}),$(".btn-address-next").click(function(){$(".cart-saved-address-item").hasClass("selected-border")?($(".mobile-back-label").text("Delivery Details"),$(".cart-summary-saved-addresses").hide(),$(".cart-summary-payment-details").show(),$(".cart-summary-new-address").hide(),$(".map-search").hide()):$(".address-warning-alert img").show()}),$(".cart-new-address, .edit-checkout-address").click(function(){$(".mobile-back-label").text("New Delivery Address"),$(".cart-summary-saved-addresses").hide(),$(".cart-summary-payment-details").hide(),$(".cart-summary-new-address").show(),$(".map-search").show()}),$(".mobile-back").click(function(){"Delivery Details"==$(".mobile-back-label").html()||"New Delivery Address"==$(".mobile-back-label").html()?($(".mobile-back-label").text("Delivery Address"),$(".cart-summary-saved-addresses").show(),$(".cart-summary-payment-details").hide(),$(".cart-summary-new-address").hide(),$(".map-search").hide()):window.location=cart_page_url}),$(".edit-option").click(function(e){$(".profile-tab").addClass("none"),$(".ep-tab").removeClass("none"),$(".symptoms-header h2").text("Edit Profile"),e.preventDefault()}),$(".change-option").click(function(e){$(".personal-info-view").hide(),$(".change-password-view").show(),$(".saved-addresses-view").hide(),$(".add-address-view").hide(),$(".profile-menu-header").text("Change Your Password"),$(".update-address-view").hide(),$("#profile_menu").addClass("profile-menu-active"),$("#address_menu").removeClass("profile-menu-active")}),$(document).on("click",".wishlist-empty-icon",function(){var t=$(this).attr("id");$.ajax({url:add_to_wishlist_url,type:"POST",data:{productId:t},dataType:"json",success:function(e){e.loggedIn?($(".tooltip-content h3").text("My Wishlist"),e.wishlist_added?($(".tooltip-content p").text("Item added Successfully!"),$("#"+t).attr("src",e["fill-heart-img"])):($("#item_"+t).remove(),$(".tooltip-content p").text("Item removed Successfully!")),$(".success-tooltip").show(),setTimeout(function(){$(".success-tooltip").hide()},3e3)):($(".error-tooltip").show(),$(".tooltip-content h3").text("Login Error"),$(".tooltip-content p").text("Please login to add wishlist"),setTimeout(function(){$(".error-tooltip").hide()},3e3))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(document).on("click",".search-bar, .ico-search-item",function(){$(".search-view").show(),$("#keyword").focus()}),$(document).on("click","#close-search-view",function(){$(".filtered-products").html("<li></li>"),$("#keyword").val(""),$(".search-view").hide()});var o=$("#keyword");function s(){var t=$("#keyword").val();$.ajax({url:search_product_url,method:"POST",data:{keyword:t},dataType:"json",beforeSend:function(){},success:function(e){""==t?$(".filtered-products").html(""):$(".filtered-products").html(e)},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}o.on("keyup",function(){clearTimeout(t),t=setTimeout(s,500)}),o.on("keydown",function(){clearTimeout(t)}),$(document).on("click",".filtered-products li",function(){var t=$(this).attr("id");$.ajax({url:search_by_product_url,method:"POST",data:{name:t},dataType:"json",beforeSend:function(){},success:function(e){e.success?window.location=search_products_page_url+"search="+t:($("#errorMessageModal").modal("show"),$("#modal_error_message").text("Failed to load search products"))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}),$(function(){$("#contactForm").validate({rules:{fullname:"required",email:{required:!0,email:!0},subject:"required",message:"required"},messages:{fullname:{required:"Please enter full name"},email:"Please enter email",subject:"Please enter subject",message:"Please enter message"},submitHandler:function(e){var t=document.getElementById("fullname").value,a=document.getElementById("useremail").value,o=document.getElementById("subject").value,s=document.getElementById("message").value;t&&a&&o&&s&&$.ajax({url:contact_form_submit_url,method:"POST",data:{fullname:t,email:a,subject:o,message:s},dataType:"json",beforeSend:function(){},success:function(e){e.success?(document.getElementById("fullname").value="",document.getElementById("useremail").value="",document.getElementById("subject").value="",document.getElementById("message").value="",$("#contactSuccess").modal("show")):($("#errorMessageModal").modal("show"),$("#modal_error_message").text(e.error))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})}})}),$(document).on("click",".tooltip-close",function(){$(".success-tooltip").hide(),$(".error-tooltip").hide()}),$(document).on("click","#cancel_order",function(){$("#cancelOrderConfirmation").modal("show")}),$(document).on("click",".btn-cancel-order",function(){var e=$(this).attr("id");$.ajax({url:cancel_order_url,method:"POST",data:{orderId:e},dataType:"json",beforeSend:function(){},success:function(e){e.success?window.location=orders_url:($("#errorMessageModal").modal("show"),$("#modal_error_message").text(e.error))},error:function(e){$("#errorMessageModal").modal("show"),$("#modal_error_message").text(JSON.stringify(e))}})})}),$(document).on("click","#with_insurance",function(){document.getElementById("with_insurance").checked=!0,document.getElementById("without_insurance").checked=!1}),$(document).on("click","#without_insurance",function(){document.getElementById("with_insurance").checked=!1,document.getElementById("without_insurance").checked=!0}),$(document).on("click",".preview-image",function(){var e="#"+(e=$(this).attr("id"));$("#imagepreview").attr("src",$(e).attr("src")),$(".modal-overlay").addClass("active"),$(".image-preview-modal").addClass("active")}),$(document).on("click","#upload_prescription, #upload_prescription_mobile",function(){$("#comingSoonModel").modal("show")}),$(document).on("click",".close-model-icon",function(){$("#comingSoonModel").modal("hide")});